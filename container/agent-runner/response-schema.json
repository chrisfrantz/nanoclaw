{
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "reply": {
      "type": "string",
      "description": "Message to send back to the triggering chat (no assistant name prefix)."
    },
    "actions": {
      "type": "array",
      "description": "Side effects to request from the host.",
      "items": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "send_message",
              "schedule_task",
              "pause_task",
              "resume_task",
              "cancel_task",
              "register_group",
              "refresh_groups"
            ]
          },
          "text": { "type": ["string", "null"] },
          "prompt": { "type": ["string", "null"] },
          "schedule_type": { "type": ["string", "null"], "enum": ["cron", "interval", "once", null] },
          "schedule_value": { "type": ["string", "null"] },
          "context_mode": { "type": ["string", "null"], "enum": ["group", "isolated", null] },
          "target_group": { "type": ["string", "null"] },
          "task_id": { "type": ["string", "null"] },
          "jid": { "type": ["string", "null"] },
          "name": { "type": ["string", "null"] },
          "folder": { "type": ["string", "null"] },
          "trigger": { "type": ["string", "null"] }
        },
        "required": [
          "type",
          "text",
          "prompt",
          "schedule_type",
          "schedule_value",
          "context_mode",
          "target_group",
          "task_id",
          "jid",
          "name",
          "folder",
          "trigger"
        ]
      }
    }
  },
  "required": ["reply", "actions"]
}
